# Parts Warehouse RestAPI
This project provides a simple RestAPI for a Parts Warehouse that contains small parts used in electronic repair workshops. The API is built using the MongoDB database.

## Project Set up:
1. Clone this repository.
2. Ensure Docker is installed on your system.
3. On the first use, run `docker-compose up --build`.
4. To start Docker subsequently, use `docker-compose up`.
### Pytest:
1. Start Docker with `docker-compose up`.
2. Open a new terminal and run `docker-compose exec -it api bash`.
3. Execute `py.test`.
## Short Approach Description:
I utilized Djongo to integrate MongoDB with Django. Despite being under development, Djongo allows the use of Django's native ORM. It translates SQL queries generated by Django into MongoDB queries. While it has some issues, it works well for a simple project like this.

To ensure that a Category cannot be deleted if it has a part assigned to it or to any of its child Categories, I used `on_delete=PROTECT` in the category `ForeignKey` in the `Part` model. Attempting to delete such a category will trigger a `ProtectedError`.

Searching for parts is possible by part name, category name, or serial number. The API will display all parts where at least one of these fields contains the search phrase.

## Adding a new part (POST request example):
```json
{
    "serial_number": "7757",
    "name": "Test",
    "description": "Test Test",
    "category": 2,
    "quantity": 33,
    "price": 2.0,
    "location": {
        "room": "A202",
        "bookcase": "44",
        "shelf": "23",
        "cuvette": "4",
        "column": "21"
    }
}
```
## URLs:
* http://localhost:8000/api/parts/
* http://localhost:8000/api/parts/{part_id}/
* http://localhost:8000/api/parts/search?q={searched_phrase}
* http://localhost:8000/api/categories/
* http://localhost:8000/api/categories/{category_id}